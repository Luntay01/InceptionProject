#Specifies the user that the Nginx worker processes will run as, which is typically a non-privileged user for security reasons.
user www-data;

#Automatically determines the number of worker processes based on the number of available CPU cores.
worker_processes auto;

#Sets the file where the process ID of the main Nginx process will be stored.
pid /run/nginx.pid;

#Includes configuration files for dynamically loaded modules.
include /etc/nginx/modules-enabled/*.conf;

#Specifies the maximum number of simultaneous connections that each worker process can handle.
events {
	worker_connections 768;
}

#sendfile on;: Enables sendfile to speed up file transfers.
#tcp_nopush on;: Enables tcp_nopush to send HTTP headers in one packet, improving network performance.
#tcp_nodelay on;: Disables Nagle's algorithm, which can reduce latency for small data packets.
#keepalive_timeout 65;: Sets the timeout for keeping connections alive with clients.
#types_hash_max_size 2048;: Increases the maximum size of the types hash table.
#server_tokens off;: Disables the display of Nginx version information in error pages and HTTP headers for security reasons.
#include /etc/nginx/mime.types;: Includes the MIME types definitions.
#default_type application/octet-stream;: Sets the default MIME type for files without an explicitly set type.
#ssl_protocols TLSv1.2 TLSv1.3;: Specifies the SSL/TLS protocols to use.
#ssl_prefer_server_ciphers on;: Prefers the server's cipher suite over the client's.
#access_log /var/log/nginx/access.log;: Specifies the access log file location.
#error_log /var/log/nginx/error.log;: Specifies the error log file location.
#gzip on;: Enables gzip compression for responses.Compression: 
#include /etc/nginx/conf.d/*.conf;: Includes additional configuration files from the conf.d directory.
#include /etc/nginx/sites-enabled/*.conf;: Includes site-specific configurations from the sites-enabled directory.

http {
	sendfile on;
	tcp_nopush on;
	tcp_nodelay on;
	keepalive_timeout 65;
	types_hash_max_size 2048;
	server_tokens off;

	include /etc/nginx/mime.types;
	default_type application/octet-stream;

	ssl_protocols TLSv1.2 TLSv1.3;
	ssl_prefer_server_ciphers on;

	access_log /var/log/nginx/access.log;
	error_log /var/log/nginx/error.log;

	gzip on;

	include /etc/nginx/conf.d/*.conf;
	include /etc/nginx/sites-enabled/*.conf;
}

#what is Nagle's algorithm?
#Nagle's algorithm is a method used in TCP/IP networks to improve the efficiency of network traffic. 
#It works by combining a series of small outgoing messages and sending them all at once, rather than 
#sending each one individually. This reduces the number of packets transmitted, minimizing the overhead 
#caused by network protocol headers and increasing overall network efficiency. The algorithm waits until 
#it has enough data to fill a packet or until previously sent data has been acknowledged before sending more packets.

#What is gzip? 
#Reduces the size of HTTP responses, making data transfer faster and saving bandwidth. Improves the loading speed of web pages